(this["webpackJsonpinterfas-usuario"]=this["webpackJsonpinterfas-usuario"]||[]).push([[0],{30:function(e,t,a){e.exports=a(65)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"traertTodos",(function(){return y}));var r=a(0),o=a.n(r),c=a(11),l=a.n(c),s=a(3),i=a(4),u=a(7),d=a(6),m=(a(35),a(36),a(37),a(12)),p=a.n(m),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"cerrarmodal",value:function(){document.getElementById("overlayy").classList.remove("active"),document.getElementById("modall").style.animation="modalOut .8s forwards"}},{key:"cerrarModal",value:function(){document.getElementById("overlayyy").classList.remove("active"),document.getElementById("modalll").style.animation="modalOut .8s forwards",window.location.reload()}},{key:"hacerPedido",value:function(){if(""==document.getElementById("ubicaci\xf3n").value||""==document.getElementById("contacto").value)alert("direccion o contacto no valido");else if(""!=document.getElementById("ubicaci\xf3n").value||""!=document.getElementById("contacto").value){var e,t;e=JSON.parse(sessionStorage.getItem("productos")),t=JSON.parse(sessionStorage.getItem("cantidades"));for(var a=new Date,n=a.getMinutes(),r=a.getHours(),o=a.getDate(),c=a.getMonth(),l={fecha:a.getFullYear()+"-"+c+"-"+o+" "+r+":"+n,ubicacion:document.getElementById("ubicaci\xf3n").value,telefono:document.getElementById("contacto").value,productos:[]},s=0;s<t.length;s++)l.productos.push(e[s]),l.productos[s].producto_cantidad=t[s];p.a.post("https://api-a-tu-servicio.herokuapp.com/api/pedidos/crearPedidos",{pedido:l}).then((function(e){document.getElementById("overlayy").classList.remove("active"),document.getElementById("modall").style.animation="modalOut .8s forwards",sessionStorage.removeItem("cantidades"),sessionStorage.removeItem("productos"),document.getElementById("overlayyy").classList.add("active"),document.getElementById("modalll").style.animation="modalInt .8s forwards"})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"overlayy",id:"overlayy"},o.a.createElement("section",{className:"modall",id:"modall"},o.a.createElement("div",null,o.a.createElement("table",{id:"customers"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"sticky"},"producto"),o.a.createElement("th",{className:"sticky"},"valor"),o.a.createElement("th",{className:"sticky"},"cantidad"),o.a.createElement("th",{className:"sticky"},"v.c."))),o.a.createElement("tbody",{className:"tbody",id:"tabla"})),o.a.createElement("div",{className:"divCompra"},o.a.createElement("input",{className:"",placeholder:"ubicaci\xf3n",id:"ubicaci\xf3n"}),o.a.createElement("input",{className:"",placeholder:"telefono de contacto",id:"contacto",type:"number"}),o.a.createElement("button",{className:"btnModalCompra",onClick:this.hacerPedido},"COMPRAR"),o.a.createElement("button",{className:"btnModalVolver",onClick:this.cerrarmodal},"VOLVER"))))),o.a.createElement("div",{className:"overlayy",id:"overlayyy",onClick:this.cerrarModal},o.a.createElement("section",{className:"modall",id:"modalll"},o.a.createElement("div",null,o.a.createElement("h1",null,"Gracias por tu pedido en unos minutos estaremos en la puerta de tu casa")))))}}]),a}(o.a.Component),E=a(8),g=a(1),h=a.n(g),f=a(5),y=function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api-a-tu-servicio.herokuapp.com/api/tienda/");case 2:a=e.sent,t({type:"traer_productos",payload:a.data.body[0]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"modalCarrito",value:function(){var e=document.getElementById("overlayy");document.getElementById("modall").style.animation="modalInt .8s forwards",e.classList.add("active");var t;if(t=JSON.parse(sessionStorage.getItem("cantidades")),0==sessionStorage.length)document.getElementById("tabla").innerHTML="\n                    \n            <tr>\n            <td>no</td>\n            <td>tenemos</td>\n            <td>nada</td>\n            <td>en carrito</td>\n        </tr>\n\n            ";else{var a;a=JSON.parse(sessionStorage.getItem("productos"));for(var n=0,r="",o=0;o<t.length;o++)r+='\n                    \n                <tr>\n                <td><img src="'.concat(a[o].pro_imagen,'" width="35px"/></td>\n                <td>').concat(a[o].pro_valor,"</td>\n                <td>").concat(t[o],"</td>\n                <td>").concat(t[o]*a[o].pro_valor,"</td>\n            </tr>\n\n                "),n+=t[o]*a[o].pro_valor;r+="\n                    \n                <tr>\n                    <th>TOTAL</th>\n                    <th></th>\n                    <th></th>\n                    <th>".concat(n,"</th>\n                </tr>\n\n                "),document.getElementById("tabla").innerHTML=r}}},{key:"cambio",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:"header"},o.a.createElement("div",{className:"header-opsiones"},o.a.createElement("div",null,o.a.createElement("p",null,"A TU SERVICIO")),o.a.createElement("div",{className:"header-opsiones_input"},o.a.createElement("div",{className:"col-auto"},o.a.createElement("div",{className:"input-group"}))),o.a.createElement("div",{onClick:this.modalCarrito},o.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/shopping-cart.png"})))),o.a.createElement(v,null))}}]),a}(o.a.Component),N=Object(E.b)((function(e){return e.productosReducer}),n)(b);a(61);var O=function(){return o.a.createElement("div",{className:"PageLoading"},o.a.createElement("div",{className:"lds-grid"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))},I=a(16),k=(a(62),"https://api-a-tu-servicio.herokuapp.com"),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.floor(Math.random()*(t-e+1))+e},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;return j(C(e,t))};function B(e){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(h.a.mark((function e(t){var a,n,r,o,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,w();case 3:return a.headers={"Content-Type":"application/json",Accept:"application/json"},n=k+t,e.next=7,fetch(n,a);case 7:return r=e.sent,e.next=10,r.json();case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={tienda:{listProductos:function(){return B("/api/tienda/")},remove:function(e){return B("/badges/".concat(e),{method:"DELETE"})}}},M=a(10),L=(a(63),0),P=[],_=[],T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={cantidad:1,valor:void 0,producto:void 0},n.handleClick=n.handleClick.bind(Object(M.a)(n)),n.agregarCarrito=n.agregarCarrito.bind(Object(M.a)(n)),n}return Object(i.a)(a,[{key:"handleClick",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value-1,console.log(a),e.t0=this,e.next=5,this.props.productos[a].pro_valor;case 5:return e.t1=e.sent,e.next=8,this.props.productos[a];case 8:e.t2=e.sent,e.t3={valor:e.t1,producto:e.t2},e.t0.setState.call(e.t0,e.t3),L++,document.getElementById("valorProducto").innerHTML=L*this.state.valor,document.getElementById("cantidadProducto").innerHTML=L;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"agregarCarrito",value:function(){if(0==L)alert("no hay productos para agregr al carrito");else if(0!==L){document.getElementById("sumarCarrito");var e=document.getElementById("overlay");document.getElementById("modal").style.animation="modalOut .8s forwards",e.classList.remove("active"),P.push(this.state.producto),_.push(L),sessionStorage.setItem("productos",JSON.stringify(P)),sessionStorage.setItem("cantidades",JSON.stringify(_)),L=0,document.getElementById("cantidadProducto").innerHTML=L,console.log(sessionStorage)}}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"overlay",id:"overlay"},o.a.createElement("section",{className:"modal_",id:"modal"},o.a.createElement("div",null,o.a.createElement("h1",{id:"nombreProducto"}),o.a.createElement("section",{className:"modal-container"},o.a.createElement("div",{className:"producto-modal"},o.a.createElement("div",{className:"producto-valor"}," ",o.a.createElement("p",null,o.a.createElement("strong",null,"valor"))," ",o.a.createElement("p",{id:"valorProducto"})," "),o.a.createElement("div",null," ",o.a.createElement("p",null,o.a.createElement("strong",null,"cantidad"))," ",o.a.createElement("p",{id:"cantidadProducto"},"0")," ")),o.a.createElement("div",{className:"btnsumar"},o.a.createElement("button",{id:"productobtn",onClick:this.handleClick},"+"))),o.a.createElement("div",{className:"modal-buttons"},o.a.createElement("button",{className:"btnModal",id:"sumarCarrito",onClick:this.agregarCarrito},"Agregar"))))))}}]),a}(o.a.Component),J=Object(E.b)((function(e){return e.productosReducer}),{})(T);a(64);var R=function(e){var t=e.productos,a=function(e){var t=o.a.useState(""),a=Object(I.a)(t,2),n=a[0],r=a[1],c=o.a.useState(e),l=Object(I.a)(c,2),s=l[0],i=l[1];return o.a.useMemo((function(){var t=e.filter((function(e){return e.pro_nombre.toLowerCase().includes(n.toLowerCase())}));i(t)}),[e,n]),{query:n,setQuery:r,filterProductos:s}}(t),n=a.query,r=a.setQuery,c=a.filterProductos,l={producto:void 0};function s(e){return i.apply(this,arguments)}function i(){return(i=Object(f.a)(h.a.mark((function e(a){var n,r,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[a.target.id];case 2:l.producto=e.sent;try{document.getElementById("sumarCarrito"),n=document.getElementById("overlay"),r=document.getElementById("modal"),o=document.getElementById("nombreProducto"),c=document.getElementById("valorProducto"),document.getElementById("productobtn").value=JSON.stringify(l.producto.pro_id),o.innerText=l.producto.pro_nombre,c.innerText=0,r.style.animation="modalIn .8s forwards",n.classList.add("active")}catch(s){console.log(s)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return 0==c.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group "},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\xbfQue buscas?",value:n,onChange:function(e){r(e.target.value)}}),o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},o.a.createElement("img",{src:"https://img.icons8.com/metro/20/000000/detective.png"}))))),o.a.createElement("h3",null," no renemos productos con este nombre ")):o.a.createElement("div",null,o.a.createElement("div",{className:"form-group "},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"\xbfQue buscas?",value:n,onChange:function(e){r(e.target.value)}}),o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},o.a.createElement("img",{src:"https://img.icons8.com/metro/20/000000/detective.png"}))))),function(){var e=-1;return c.map((function(t){return e++,o.a.createElement("section",{key:t.pro_id,className:"lista"},o.a.createElement("section",{className:"lista-img"},o.a.createElement("img",{src:t.pro_imagen})),o.a.createElement("section",{className:"lista-info"},o.a.createElement("section",{className:"lista-info_data"},o.a.createElement("p",null,t.pro_nombre),o.a.createElement("p",null,"$:",t.pro_valor),o.a.createElement("button",{id:e,onClick:s},"carrito"))))}))}(),o.a.createElement(J,{producto:l.producto}))},D=(a(66),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fetchData=Object(f.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0,error:null}),e.prev=1,e.next=4,x.tienda.listProductos();case 4:t=e.sent,a=t.body,r=a[0],n.setState({loading:!1,data:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.setState({loading:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.state={loading:!0,error:null,data:void 0,value:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.traertTodos(),this.fetchData()}},{key:"render",value:function(){return console.log(this.props),!0===this.state.loading?o.a.createElement(O,null):this.state.error?o.a.createElement("h1",null,"datas"):(console.log(this.props),o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"main"},o.a.createElement("article",{className:"container-producto"},o.a.createElement(R,{productos:this.props.productos})))))}}]),a}(o.a.Component)),F=Object(E.b)((function(e){return e.productosReducer}),n)(D),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"body"},o.a.createElement(N,null),console.log("layout"),o.a.createElement(F,null),o.a.createElement("footer",{className:"footer"})))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(9),Q=a(17),V={productos:[]},q=Object(A.c)({productosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"traer_productos":return Object(Q.a)(Object(Q.a)({},e),{},{productos:t.payload});default:return e}}}),W=a(29),$=Object(A.d)(q,{},Object(A.a)(W.a));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E.a,{store:$},o.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.d9f6fe62.chunk.js.map